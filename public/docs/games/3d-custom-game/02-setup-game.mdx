# üèóÔ∏è Project: The Isometric Core (Architecture First)

We are building the foundation. This is a pure **Three.js Game Engine**, but architected specifically to be wrapped by **React 18 / Next.js 15** in the future.

This prompt enforces **Clean Architecture**: separation of Rendering (Three.js), Game Logic, and UI, ensuring seamless integration with **COTI V2** hooks later.

---

## ‚ö° ACTION: GENERATE THE ENGINE

**Mission:** Go to the **COTI MCP Interface**. Copy the prompt inside the terminal below and paste it into the chat.

<div style={{
  background: 'linear-gradient(135deg, #6366f1, #8b5cf6, #d946ef)',
  padding: '3px',
  borderRadius: '16px',
  margin: '30px 0',
  boxShadow: '0 0 60px -15px rgba(99, 102, 241, 0.5)'
}}>
  <div style={{
    background: '#0f172a',
    borderRadius: '13px',
    color: '#e2e8f0',
    overflow: 'hidden',
    fontFamily: 'Menlo, Monaco, Consolas, monospace',
    position: 'relative'
  }}>
    
    {/* Header Bar */}
    <div style={{
      background: 'rgba(255, 255, 255, 0.03)',
      borderBottom: '1px solid #334155',
      padding: '12px 20px',
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center'
    }}>
      <div style={{display: 'flex', alignItems: 'center', gap: '12px'}}>
        <div style={{
            width:'12px', height:'12px', background:'#a855f7', borderRadius:'50%', 
            boxShadow:'0 0 12px #a855f7'
        }}></div>
        <span style={{color: '#e2e8f0', fontWeight: 'bold', fontSize: '0.85rem', letterSpacing: '0.5px'}}>
          ISOMETRIC_ENGINE_ARCHITECT.prompt
        </span>
        <span style={{
            background: 'rgba(217, 70, 239, 0.2)', color: '#f0abfc', fontSize: '0.65rem', 
            padding: '2px 8px', borderRadius: '4px', border: '1px solid rgba(217, 70, 239, 0.3)'
        }}>REACT-READY</span>
      </div>

      <button 
        style={{
            background: 'linear-gradient(90deg, #6366f1, #a855f7)',
            border: 'none',
            color: 'white',
            padding: '8px 16px',
            borderRadius: '6px',
            fontSize: '0.75rem',
            cursor: 'pointer',
            fontWeight: 'bold',
            display: 'flex', alignItems: 'center', gap: '8px',
            transition: 'transform 0.1s',
            boxShadow: '0 4px 12px rgba(99, 102, 241, 0.3)'
        }}
        onMouseOver={(e) => e.currentTarget.style.transform = 'translateY(-1px)'}
        onMouseOut={(e) => e.currentTarget.style.transform = 'translateY(0)'}
        onClick={() => {
            const promptText = document.getElementById('engine-prompt').innerText;
            navigator.clipboard.writeText(promptText);
            alert("Architecture Blueprint Copied! üèõÔ∏è");
        }}
      >
        <span>‚ö° COPY ARCHITECTURE PROMPT</span>
      </button>
    </div>

    {/* Scrollable Content Area */}
    <div id="engine-prompt" style={{
      padding: '24px',
      maxHeight: '450px',
      overflowY: 'auto',
      whiteSpace: 'pre-wrap',
      fontSize: '0.85rem',
      lineHeight: '1.5',
      color: '#cbd5e1'
    }}>
{`I want Gemini to generate a complete 3D game project in Three.js with an isometric view similar to Age of Empires or League of Legends.
The project should not include blockchain integration at this stage, but it must include clearly defined extension points (hooks) where COTI smart contracts, tokens, and wallet connection flows can be added later.

The architecture must also be prepared for a future migration to React 18 or Next.js 15, ensuring compatibility with modern Web3 libraries such as RainbowKit, Wagmi, Viem, and React Query. This implies:
- Clean module boundaries
- UI logic decoupled from rendering
- A folder structure that allows a future React frontend to wrap or mount the 3D canvas
- Clear extension points for wallet gating and dApp logic
- No React code today, only the architecture that supports an eventual migration

üß† Role & Behavior
Act as a senior expert in 3D game development and software architecture, specializing in:
- Three.js
- Modular engines
- Large-scale front-end systems
- React/Next.js migrations
- Clean separation of concerns

Follow all instructions strictly. Do not ask for confirmation.

üì• Input (Context & Constraints)
I want a 3D prototype game with the following features:

üåç World
- Large terrain (~5000√ó5000)
- Procedurally placed decorative objects (trees, rocks, chests)
- Lighting: AmbientLight, DirectionalLight
- Optional basic minimap (simple canvas)

üßç Player
- Simple model (capsule or low-poly primitive)
- Point-and-click movement
- Path navigation toward clicked point
- Smooth isometric camera (~45¬∞) following the player
- Placeholder animations (idle / walking)

üì¶ Chests
- Randomly positioned on the terrain
- Detect player proximity
- Click to open
- Trigger a small animation (rotation or scale bounce)
- Display message: "In a future version, this chest will grant real tokens."

üîó Blockchain Hooks (Future Integration with COTI)
Inside a folder named /future-blockchain-hooks/, generate empty placeholder functions:
- connectToCOTIPlaceholder()
- requestTokenRewardPlaceholder()
- getBalancePlaceholder()

Each must contain: // TODO: integrate real logic with COTI smart contract

üß± Future-Proof Architecture Requirement (VERY IMPORTANT)
The project must be structured so that it can later be wrapped inside React 18 or Next.js 15 without refactoring the game engine.
You must design folder layout and module boundaries so that:
1. All 3D engine logic lives inside /src/game/ and is UI-agnostic.
2. The rendering loop and scene setup can be mounted via a future React <Canvas /> wrapper.
3. UI is isolated inside /src/ui/ to allow replacement by React components.
4. The blockchain hooks folder mirrors typical RainbowKit + Wagmi + Viem dApp structure.
5. The initialization function (e.g., initGame()) can be invoked conditionally by a future wallet-gated layer.
6. Include comments explaining where React 18 / Next.js 15 could later plug in.

No React code should be generated today, but the Vanilla JS must be structure as classes/modules.

üß© UI Requirements
Minimal HTML/CSS UI:
- Placeholder balance: "Balance: 0 (placeholder)"
- Notifications (chest opened, movement, etc.)
- Simple overlay panels with clean CSS

üì§ Expected Output
Gemini must generate:

A. Full Project Structure
- Folder tree
- File names

B. Complete Codebase
Must include:
- index.html
- main.js
- Organized modules:
  - /src/game/ (Engine, Renderer, Loop)
  - /src/world/ (Terrain, Props)
  - /src/entities/ (Player, Chests)
  - /src/ui/ (Overlay, HUD)
  - /future-blockchain-hooks/

With:
- Procedural terrain + objects
- Camera system
- Movement system (Raycasting)
- Chest interactions
- UI overlay
- Clear extension points for future blockchain integration
- Full comments throughout the code

C. Execution Guide
Include:
- How to run the project (local server, etc.)
- File responsibilities
- Where React 18 or Next.js 15 can be integrated later

üö´ Do NOT
- Generate real blockchain logic
- Generate smart contracts
- Add React, Next.js, or external libraries (just Vanilla Three.js)
- Add Web3 libraries
- Ask questions

‚úîÔ∏è Internal Checklist (Validate Before Answering)
The answer must satisfy:
- Complete valid code
- Architecture supports future React 18 / Next.js 15 migration
- Blockchain hooks exist and are empty
- Isometric camera works
- Player movement works
- Chests are interactive
- Full file structure included
- No missing imports
- No real Web3 logic`}
    </div>

    {/* Visual Footer */}
    <div style={{
        background: '#020617',
        borderTop: '1px solid #1e293b',
        padding: '8px 20px',
        display: 'flex', justifyContent: 'flex-end',
        alignItems: 'center', gap: '10px'
    }}>
        <div style={{width:'8px', height:'8px', background:'#a855f7', borderRadius:'50%', animation: 'pulse 2s infinite'}}></div>
        <span style={{fontSize: '0.7rem', color: '#94a3b8', fontFamily: 'sans-serif', fontWeight: 'bold'}}>
          SCROLL TO VIEW ARCHITECTURE SPECS ‚Üï
        </span>
    </div>

  </div>
</div>