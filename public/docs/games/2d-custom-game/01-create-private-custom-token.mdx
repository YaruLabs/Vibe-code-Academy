# üõ°Ô∏è Advanced Deployment: The Gatekeeper

We are stepping up the game. Standard tokens are public, but we want **Controlled Access**.

We will tell the Assistant to create a token where **only registered users** can receive funds, and the deployment is handled via a **fresh wallet** to ensure clean separation.

---

## ‚ö° ACTION: DEPLOY THE RESTRICTED CONTRACT

**Mission:** Go to the **COTI MCP Interface**. Copy the prompt inside the terminal below and paste it into the chat.

<div style={{
  background: 'linear-gradient(135deg, #7c3aed, #db2777)',
  padding: '2px',
  borderRadius: '16px',
  margin: '30px 0',
  boxShadow: '0 0 40px -10px rgba(124, 58, 237, 0.4)'
}}>
  <div style={{
    background: '#0B0F19',
    borderRadius: '14px',
    color: '#e2e8f0',
    overflow: 'hidden',
    fontFamily: 'Menlo, Monaco, Consolas, monospace'
  }}>
    
    {/* Header: Title + Copy Button */}
    <div style={{
      background: 'rgba(255, 255, 255, 0.05)',
      borderBottom: '1px solid #334155',
      padding: '12px 20px',
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center'
    }}>
      <div style={{display: 'flex', alignItems: 'center', gap: '10px'}}>
        <div style={{width:'10px', height:'10px', background:'#d946ef', borderRadius:'50%', boxShadow:'0 0 10px #d946ef'}}></div>
        <span style={{color: '#e879f9', fontWeight: 'bold', fontSize: '0.85rem', letterSpacing: '1px'}}>PRIVATE_REGISTRY.prompt</span>
      </div>

      <button 
        style={{
            background: 'linear-gradient(90deg, #7c3aed, #9333ea)',
            border: 'none',
            color: 'white',
            padding: '8px 16px',
            borderRadius: '6px',
            fontSize: '0.75rem',
            cursor: 'pointer',
            fontWeight: 'bold',
            display: 'flex', alignItems: 'center', gap: '6px',
            transition: 'opacity 0.2s',
            boxShadow: '0 2px 10px rgba(124, 58, 237, 0.3)'
        }}
        onMouseOver={(e) => e.currentTarget.style.opacity = '0.9'}
        onMouseOut={(e) => e.currentTarget.style.opacity = '1'}
        onClick={() => {
            const textToCopy = `Deploy a new standard private ERC20 token contract on the COTI blockchain.
This deployment must use a newly generated wallet, which I will fund with COTI for gas.
The system must create this new wallet before deployment and use it as the signer for the entire deployment process.
Return the generated wallet address so I can fund it before execution.

In addition to the standard private ERC20 behavior, the smart contract must include a private registration mechanism for mint authorization:

The contract must maintain a private list of registered user addresses.

A public function must allow any caller to request registration, but the registration data must be stored privately using COTI‚Äôs private state architecture.

The mint function must only mint tokens to addresses that are already registered in this private list.

Any attempt to mint to an unregistered address must revert.

Return the deployed contract address upon successful deployment.`;
            navigator.clipboard.writeText(textToCopy);
            alert("Prompt Copied to Clipboard! üìã");
        }}
      >
        <span>COPY PROMPT</span>
      </button>
    </div>

    {/* Scrollable Content Area */}
    <div style={{
      padding: '24px',
      maxHeight: '350px', // Altura m√°xima antes de hacer scroll
      overflowY: 'auto',  // Permite deslizar
      whiteSpace: 'pre-wrap', // Mantiene los saltos de l√≠nea
      fontSize: '0.9rem',
      lineHeight: '1.6',
      color: '#cbd5e1'
    }}>
      Deploy a new standard private ERC20 token contract on the COTI blockchain.<br/>
      <span style={{color: '#e879f9'}}>This deployment must use a newly generated wallet, which I will fund with COTI for gas.</span><br/>
      The system must create this new wallet before deployment and use it as the signer for the entire deployment process.<br/>
      Return the generated wallet address so I can fund it before execution.<br/><br/>

      In addition to the standard private ERC20 behavior, the smart contract must include a private registration mechanism for mint authorization:<br/><br/>
      
      1. The contract must maintain a private list of registered user addresses.<br/><br/>
      
      2. A public function must allow any caller to request registration, but the registration data must be stored privately using COTI‚Äôs private state architecture.<br/><br/>
      
      3. The mint function must only mint tokens to addresses that are already registered in this private list.<br/><br/>
      
      4. Any attempt to mint to an unregistered address must revert.<br/><br/>
      
      Return the deployed contract address upon successful deployment.
    </div>

    {/* Visual Footer */}
    <div style={{
        background: '#020617',
        borderTop: '1px solid #1e293b',
        padding: '8px 20px',
        display: 'flex', justifyContent: 'flex-end'
    }}>
        <span style={{fontSize: '0.7rem', color: '#64748b', fontFamily: 'sans-serif'}}>SCROLL TO VIEW FULL CONTENT ‚Üï</span>
    </div>

  </div>
</div>